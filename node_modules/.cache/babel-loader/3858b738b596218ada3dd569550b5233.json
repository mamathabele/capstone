{"ast":null,"code":"import { myFirebase, firebaseConfig } from \"../firebase/firebase\";\nimport axios from 'axios';\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const LOGOUT_REQUEST = \"LOGOUT_REQUEST\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\nexport const VERIFY_REQUEST = \"VERIFY_REQUEST\";\nexport const VERIFY_SUCCESS = \"VERIFY_SUCCESS\";\nexport const PRODUCT_REQUEST = 'PRODUCT_REQUEST';\nexport const PRODUCT_SUCCESS = 'PRODUCT_SUCCESS';\nexport const PRODUCT_FAILURE = \"PRODUCT_FAILURE\";\n\nconst requestProduct = () => {\n  return {\n    type: PRODUCT_REQUEST\n  };\n};\n\nconst receiveProduct = infolist => {\n  return {\n    type: PRODUCT_SUCCESS,\n    infolist\n  };\n};\n\nconst infolistError = () => {\n  return {\n    type: PRODUCT_FAILURE\n  };\n};\n\nconst requestLogin = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\n\nconst receiveLogin = user => {\n  return {\n    type: LOGIN_SUCCESS,\n    user\n  };\n};\n\nconst loginError = () => {\n  return {\n    type: LOGIN_FAILURE\n  };\n};\n\nconst requestLogout = () => {\n  return {\n    type: LOGOUT_REQUEST\n  };\n};\n\nconst receiveLogout = () => {\n  return {\n    type: LOGOUT_SUCCESS\n  };\n};\n\nconst logoutError = () => {\n  return {\n    type: LOGOUT_FAILURE\n  };\n};\n\nconst verifyRequest = () => {\n  return {\n    type: VERIFY_REQUEST\n  };\n};\n\nconst verifySuccess = () => {\n  return {\n    type: VERIFY_SUCCESS\n  };\n};\n\nexport const loginUser = (email, password) => dispatch => {\n  dispatch(requestLogin());\n  const user = {\n    \"email\": email,\n    \"password\": password,\n    \"returnSecureToken\": true\n  };\n  axios.post(`https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${firebaseConfig.apiKey}`, user).then(user => {\n    console.log(\"user logged in\");\n    console.log(user);\n    console.log(user.data);\n    dispatch(receiveLogin(user));\n  }).catch(err => {\n    dispatch(loginError());\n  });\n};\nexport const productinfo = (name, croptype) => dispatch => {\n  dispatch(requestProduct());\n  const infolist = {\n    \"name\": name,\n    \"croptype\": croptype,\n    \"weight\": weight,\n    \"price\": price,\n    \"selectlocation\": selectlocation,\n    \"files\": files,\n    \"startDate\": startDate\n  }.then(infolist => {\n    console.log(\"infolist is added\");\n    console.log(infolist.data);\n    dispatch(receiveProduct(infolist));\n  }).catch(err => {\n    dispatch(infolistError());\n  });\n};\nexport const logoutUser = () => dispatch => {\n  dispatch(requestLogout());\n  myFirebase.auth().signOut().then(() => {\n    dispatch(receiveLogout());\n  }).catch(error => {\n    //Do something with the error if you want!\n    dispatch(logoutError());\n  });\n};\nexport const verifyAuth = () => dispatch => {\n  dispatch(verifyRequest());\n  myFirebase.auth().onAuthStateChanged(user => {\n    if (user !== null) {\n      dispatch(receiveLogin(user));\n    }\n\n    dispatch(verifySuccess());\n  });\n};","map":{"version":3,"sources":["/home/sreeha/Projects/capstone/farmerbidder/src/actions/auth.js"],"names":["myFirebase","firebaseConfig","axios","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","VERIFY_REQUEST","VERIFY_SUCCESS","PRODUCT_REQUEST","PRODUCT_SUCCESS","PRODUCT_FAILURE","requestProduct","type","receiveProduct","infolist","infolistError","requestLogin","receiveLogin","user","loginError","requestLogout","receiveLogout","logoutError","verifyRequest","verifySuccess","loginUser","email","password","dispatch","post","apiKey","then","console","log","data","catch","err","productinfo","name","croptype","weight","price","selectlocation","files","startDate","logoutUser","auth","signOut","error","verifyAuth","onAuthStateChanged"],"mappings":"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","sourcesContent":["import { myFirebase, firebaseConfig } from \"../firebase/firebase\";\nimport axios from 'axios';\n\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT_REQUEST = \"LOGOUT_REQUEST\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nexport const VERIFY_REQUEST = \"VERIFY_REQUEST\";\nexport const VERIFY_SUCCESS = \"VERIFY_SUCCESS\";\n\nexport const PRODUCT_REQUEST = 'PRODUCT_REQUEST';\nexport const PRODUCT_SUCCESS = 'PRODUCT_SUCCESS';\nexport const PRODUCT_FAILURE = \"PRODUCT_FAILURE\";\n\nconst requestProduct = () => {\n  return {\n    type: PRODUCT_REQUEST\n  }\n}\n\nconst receiveProduct = infolist => {\n  return {\n    type: PRODUCT_SUCCESS,\n    infolist\n  }\n}\n\nconst infolistError = () => {\n  return {\n    type: PRODUCT_FAILURE\n  }\n}\n\nconst requestLogin = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\n\nconst receiveLogin = user => {\n  return {\n    type: LOGIN_SUCCESS,\n    user\n  };\n};\n\nconst loginError = () => {\n  return {\n    type: LOGIN_FAILURE\n  };\n};\n\nconst requestLogout = () => {\n  return {\n    type: LOGOUT_REQUEST\n  };\n};\n\nconst receiveLogout = () => {\n  return {\n    type: LOGOUT_SUCCESS\n  };\n};\n\nconst logoutError = () => {\n  return {\n    type: LOGOUT_FAILURE\n  };\n};\n\nconst verifyRequest = () => {\n  return {\n    type: VERIFY_REQUEST\n  };\n};\n\nconst verifySuccess = () => {\n  return {\n    type: VERIFY_SUCCESS\n  };\n};\n\nexport const loginUser = (email, password) => dispatch => {\n  dispatch(requestLogin());\n  \n  const user =  {\n    \"email\": email,\n     \"password\": password,\n     \"returnSecureToken\": true\n   }\n\n  axios.post(`https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${firebaseConfig.apiKey}`, user )\n  .then(user => {\n    console.log(\"user logged in\")\n    console.log(user);\n    console.log(user.data);\n    dispatch(receiveLogin(user));\n  }).catch(err =>{\n    dispatch(loginError());\n  })\n};\n\nexport const productinfo = (name,croptype) => dispatch => {\n  dispatch(requestProduct());\n  \n  const infolist = {\n    \"name\": name,\n    \"croptype\": croptype,\n    \"weight\": weight,\n    \"price\": price,\n    \"selectlocation\": selectlocation,\n    \"files\": files,\n    \"startDate\": startDate,\n  }\n  .then(infolist => {\n    console.log(\"infolist is added\");\n    console.log(infolist.data);\n    dispatch(receiveProduct(infolist));\n  }).catch(err =>{\n    dispatch(infolistError());\n  })\n}\n\nexport const logoutUser = () => dispatch => {\n  dispatch(requestLogout());\n  myFirebase\n    .auth()\n    .signOut()\n    .then(() => {\n      dispatch(receiveLogout());\n    })\n    .catch(error => {\n      //Do something with the error if you want!\n      dispatch(logoutError());\n    });\n};\n\nexport const verifyAuth = () => dispatch => {\n  dispatch(verifyRequest());\n  myFirebase.auth().onAuthStateChanged(user => {\n    if (user !== null) {\n      dispatch(receiveLogin(user));\n    }\n    dispatch(verifySuccess());\n  });\n};\n"]},"metadata":{},"sourceType":"module"}