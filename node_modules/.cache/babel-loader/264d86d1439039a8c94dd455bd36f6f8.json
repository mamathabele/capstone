{"ast":null,"code":"import{myFirebase,firebaseConfig}from\"../firebase/firebase\";import axios from'axios';import Addproduct from\"../components/Addproduct\";export var LOGIN_REQUEST=\"LOGIN_REQUEST\";export var LOGIN_SUCCESS=\"LOGIN_SUCCESS\";export var LOGIN_FAILURE=\"LOGIN_FAILURE\";export var LOGOUT_REQUEST=\"LOGOUT_REQUEST\";export var LOGOUT_SUCCESS=\"LOGOUT_SUCCESS\";export var LOGOUT_FAILURE=\"LOGOUT_FAILURE\";export var VERIFY_REQUEST=\"VERIFY_REQUEST\";export var VERIFY_SUCCESS=\"VERIFY_SUCCESS\";export var PRODUCT_REQUEST='PRODUCT_REQUEST';export var ADD_PRODUCT='ADD_PRODUCT';export var PRODUCT_FAILURE=\"PRODUCT_FAILURE\";var requestProduct=function requestProduct(){return{type:PRODUCT_REQUEST};};var addProduct=function addProduct(infolist){return{type:ADD_PRODUCT,productinfo:infolist};};var infolistError=function infolistError(){return{type:PRODUCT_FAILURE};};var requestLogin=function requestLogin(){return{type:LOGIN_REQUEST};};var receiveLogin=function receiveLogin(user){return{type:LOGIN_SUCCESS,user:user};};var loginError=function loginError(){return{type:LOGIN_FAILURE};};var requestLogout=function requestLogout(){return{type:LOGOUT_REQUEST};};var receiveLogout=function receiveLogout(){return{type:LOGOUT_SUCCESS};};var logoutError=function logoutError(){return{type:LOGOUT_FAILURE};};var verifyRequest=function verifyRequest(){return{type:VERIFY_REQUEST};};var verifySuccess=function verifySuccess(){return{type:VERIFY_SUCCESS};};export var loginUser=function loginUser(email,password){return function(dispatch){dispatch(requestLogin());var user={\"email\":email,\"password\":password,\"returnSecureToken\":true};axios.post(\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=\".concat(firebaseConfig.apiKey),user).then(function(user){console.log(\"user logged in\");console.log(user);console.log(user.data);dispatch(receiveLogin(user));}).catch(function(err){dispatch(loginError());});};};export var productinfo=function productinfo(product){return function(dispatch){// dispatch(requestProduct());\nvar infolist={\"id\":product.id,\"name\":product.name,\"croptype\":product.croptype,\"weight\":product.weight,\"price\":product.price,\"selectlocation\":product.selectlocation,\"files\":product.files,\"startDate\":product.startDate};dispatch(addProduct(infolist));};};export var logoutUser=function logoutUser(){return function(dispatch){dispatch(requestLogout());myFirebase.auth().signOut().then(function(){dispatch(receiveLogout());}).catch(function(error){//Do something with the error if you want!\ndispatch(logoutError());});};};export var verifyAuth=function verifyAuth(){return function(dispatch){dispatch(verifyRequest());myFirebase.auth().onAuthStateChanged(function(user){if(user!==null){dispatch(receiveLogin(user));}dispatch(verifySuccess());});};};","map":{"version":3,"sources":["/home/sreeha/Projects/capstone/farmerbidder/src/actions/auth.js"],"names":["myFirebase","firebaseConfig","axios","Addproduct","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","VERIFY_REQUEST","VERIFY_SUCCESS","PRODUCT_REQUEST","ADD_PRODUCT","PRODUCT_FAILURE","requestProduct","type","addProduct","infolist","productinfo","infolistError","requestLogin","receiveLogin","user","loginError","requestLogout","receiveLogout","logoutError","verifyRequest","verifySuccess","loginUser","email","password","dispatch","post","apiKey","then","console","log","data","catch","err","product","id","name","croptype","weight","price","selectlocation","files","startDate","logoutUser","auth","signOut","error","verifyAuth","onAuthStateChanged"],"mappings":"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","sourcesContent":["import { myFirebase, firebaseConfig } from \"../firebase/firebase\";\nimport axios from 'axios';\nimport Addproduct from \"../components/Addproduct\";\n\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT_REQUEST = \"LOGOUT_REQUEST\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nexport const VERIFY_REQUEST = \"VERIFY_REQUEST\";\nexport const VERIFY_SUCCESS = \"VERIFY_SUCCESS\";\n\nexport const PRODUCT_REQUEST = 'PRODUCT_REQUEST';\nexport const ADD_PRODUCT = 'ADD_PRODUCT';\nexport const PRODUCT_FAILURE = \"PRODUCT_FAILURE\";\n\nconst requestProduct = () => {\n  return {\n    type: PRODUCT_REQUEST\n  }\n}\n\nconst addProduct = infolist => {\n  return {\n    type: ADD_PRODUCT,\n    productinfo: infolist\n  }\n}\n\nconst infolistError = () => {\n  return {\n    type: PRODUCT_FAILURE\n  }\n}\n\nconst requestLogin = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\n\nconst receiveLogin = user => {\n  return {\n    type: LOGIN_SUCCESS,\n    user\n  };\n};\n\nconst loginError = () => {\n  return {\n    type: LOGIN_FAILURE\n  };\n};\n\nconst requestLogout = () => {\n  return {\n    type: LOGOUT_REQUEST\n  };\n};\n\nconst receiveLogout = () => {\n  return {\n    type: LOGOUT_SUCCESS\n  };\n};\n\nconst logoutError = () => {\n  return {\n    type: LOGOUT_FAILURE\n  };\n};\n\nconst verifyRequest = () => {\n  return {\n    type: VERIFY_REQUEST\n  };\n};\n\nconst verifySuccess = () => {\n  return {\n    type: VERIFY_SUCCESS\n  };\n};\n\nexport const loginUser = (email, password) => dispatch => {\n  dispatch(requestLogin());\n  \n  const user =  {\n    \"email\": email,\n     \"password\": password,\n     \"returnSecureToken\": true\n   }\n\n  axios.post(`https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${firebaseConfig.apiKey}`, user )\n  .then(user => {\n    console.log(\"user logged in\")\n    console.log(user);\n    console.log(user.data);\n    dispatch(receiveLogin(user));\n  }).catch(err =>{\n    dispatch(loginError());\n  })\n};\n\nexport const productinfo = (product) => dispatch => {\n  // dispatch(requestProduct());\n  \n  const infolist = {\n    \"id\": product.id,\n    \"name\": product.name,\n    \"croptype\": product.croptype,\n    \"weight\": product.weight,\n    \"price\": product.price,\n    \"selectlocation\": product.selectlocation,\n    \"files\": product.files,\n    \"startDate\": product.startDate,\n  }\n  dispatch(addProduct(infolist));\n}\n\nexport const logoutUser = () => dispatch => {\n  dispatch(requestLogout());\n  myFirebase\n    .auth()\n    .signOut()\n    .then(() => {\n      dispatch(receiveLogout());\n    })\n    .catch(error => {\n      //Do something with the error if you want!\n      dispatch(logoutError());\n    });\n};\n\nexport const verifyAuth = () => dispatch => {\n  dispatch(verifyRequest());\n  myFirebase.auth().onAuthStateChanged(user => {\n    if (user !== null) {\n      dispatch(receiveLogin(user));\n    }\n    dispatch(verifySuccess());\n  });\n};\n"]},"metadata":{},"sourceType":"module"}