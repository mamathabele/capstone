{"ast":null,"code":"import{myFirebase,firebaseConfig}from\"../firebase/firebase\";import axios from'axios';export var LOGIN_REQUEST=\"LOGIN_REQUEST\";export var LOGIN_SUCCESS=\"LOGIN_SUCCESS\";export var LOGIN_FAILURE=\"LOGIN_FAILURE\";export var LOGOUT_REQUEST=\"LOGOUT_REQUEST\";export var LOGOUT_SUCCESS=\"LOGOUT_SUCCESS\";export var LOGOUT_FAILURE=\"LOGOUT_FAILURE\";export var VERIFY_REQUEST=\"VERIFY_REQUEST\";export var VERIFY_SUCCESS=\"VERIFY_SUCCESS\";var requestLogin=function requestLogin(){return{type:LOGIN_REQUEST};};var receiveLogin=function receiveLogin(user){return{type:LOGIN_SUCCESS,user:user};};var loginError=function loginError(){return{type:LOGIN_FAILURE};};var requestLogout=function requestLogout(){return{type:LOGOUT_REQUEST};};var receiveLogout=function receiveLogout(){return{type:LOGOUT_SUCCESS};};var logoutError=function logoutError(){return{type:LOGOUT_FAILURE};};var verifyRequest=function verifyRequest(){return{type:VERIFY_REQUEST};};var verifySuccess=function verifySuccess(){return{type:VERIFY_SUCCESS};};export var loginUser=function loginUser(email,password){return function(dispatch){dispatch(requestLogin());var user={\"email\":email,\"password\":password,\"returnSecureToken\":true};axios.post(\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=\".concat(firebaseConfig.apiKey),user).then(function(user){console.log(\"user logged in\");console.log(user);console.log(user.data);dispatch(receiveLogin(user));}).catch(function(err){dispatch(loginError());});};};export var logoutUser=function logoutUser(){return function(dispatch){dispatch(requestLogout());myFirebase.auth().signOut().then(function(){dispatch(receiveLogout());}).catch(function(error){//Do something with the error if you want!\ndispatch(logoutError());});};};export var verifyAuth=function verifyAuth(){return function(dispatch){dispatch(verifyRequest());myFirebase.auth().onAuthStateChanged(function(user){if(user!==null){dispatch(receiveLogin(user));}dispatch(verifySuccess());});};};","map":{"version":3,"sources":["/home/sreeha/Projects/capstone/farmerbidder/src/actions/auth.js"],"names":["myFirebase","firebaseConfig","axios","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","VERIFY_REQUEST","VERIFY_SUCCESS","requestLogin","type","receiveLogin","user","loginError","requestLogout","receiveLogout","logoutError","verifyRequest","verifySuccess","loginUser","email","password","dispatch","post","apiKey","then","console","log","data","catch","err","logoutUser","auth","signOut","error","verifyAuth","onAuthStateChanged"],"mappings":"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","sourcesContent":["import { myFirebase, firebaseConfig } from \"../firebase/firebase\";\nimport axios from 'axios';\n\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\n\nexport const LOGOUT_REQUEST = \"LOGOUT_REQUEST\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\n\nexport const VERIFY_REQUEST = \"VERIFY_REQUEST\";\nexport const VERIFY_SUCCESS = \"VERIFY_SUCCESS\";\n\nconst requestLogin = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\n\nconst receiveLogin = user => {\n  return {\n    type: LOGIN_SUCCESS,\n    user\n  };\n};\n\nconst loginError = () => {\n  return {\n    type: LOGIN_FAILURE\n  };\n};\n\nconst requestLogout = () => {\n  return {\n    type: LOGOUT_REQUEST\n  };\n};\n\nconst receiveLogout = () => {\n  return {\n    type: LOGOUT_SUCCESS\n  };\n};\n\nconst logoutError = () => {\n  return {\n    type: LOGOUT_FAILURE\n  };\n};\n\nconst verifyRequest = () => {\n  return {\n    type: VERIFY_REQUEST\n  };\n};\n\nconst verifySuccess = () => {\n  return {\n    type: VERIFY_SUCCESS\n  };\n};\n\nexport const loginUser = (email, password) => dispatch => {\n  dispatch(requestLogin());\n  \n  const user =  {\n    \"email\": email,\n     \"password\": password,\n     \"returnSecureToken\": true\n   }\n\n  axios.post(`https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=${firebaseConfig.apiKey}`, user )\n  .then(user => {\n    console.log(\"user logged in\")\n    console.log(user);\n    console.log(user.data);\n    dispatch(receiveLogin(user));\n  }).catch(err =>{\n    dispatch(loginError());\n  })\n};\n\nexport const logoutUser = () => dispatch => {\n  dispatch(requestLogout());\n  myFirebase\n    .auth()\n    .signOut()\n    .then(() => {\n      dispatch(receiveLogout());\n    })\n    .catch(error => {\n      //Do something with the error if you want!\n      dispatch(logoutError());\n    });\n};\n\nexport const verifyAuth = () => dispatch => {\n  dispatch(verifyRequest());\n  myFirebase.auth().onAuthStateChanged(user => {\n    if (user !== null) {\n      dispatch(receiveLogin(user));\n    }\n    dispatch(verifySuccess());\n  });\n};\n"]},"metadata":{},"sourceType":"module"}